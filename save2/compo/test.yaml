- TYPE:
    NAME: int
    DEFINITION: int
    DEFAULT: 0
    NATIF: True

- TYPE:
    NAME: string
    DEFINITION: std::string
    NATIF: False
    DEFAULT: "Non Init"
    INCLUDE: "<string>"

- INTERFACE:
   NAME: Math
   FUNCTION:
    - int add (int a,int b)
    - int time (int a,int b)
    - int sub (int a,int b)
    - int div (int a,int b)
    - int power (int a,int b)
    - int mod (int a,int b)

- COMPONENT:
    NAME: Math_provider
    PROVIDE:
      - Math m

- COMPONENT:
    NAME: Calc
    REQUIRE:
      - Math compute_serv

- LINK:
    NAME: Fifo_in
    PARENT: Fifo
    DATA:
      - string req
      - string res
    S:
      IN: TRUE

- LINK:
    NAME: Fifo_out
    PARENT: Fifo
    DATA:
      - string req
      - string res
    S:
      OUT: TRUE

- LINK:
    NAME: Simple
    S:
      DIRECT: TRUE

- DEPLOYMENT:
    NAME: Dep1
    CONNECTION:
      - (l1)->mp.m
    INSTANCE:
      - Math_provider mp
    LINK_INSTANCE:
      - Fifo_in l1 WITH {"req":"\"/tmp/fifo1.req\"", "res":"\"/tmp/fifo1.rep\""}

- DEPLOYMENT:
    NAME: Dep2
    CONNECTION:
      - m1.compute_serv-(l1)
      - m2.compute_serv-(l2)->mp.m
    INSTANCE:
      - Calc m1
      - Calc m2
      - Math_provider mp
    LINK_INSTANCE:
      - Simple s
      - Fifo_out l1 WITH {"req":"\"/tmp/fifo1.req\"", "res":"\"/tmp/fifo1.rep\""}
