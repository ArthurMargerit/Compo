- IMPORT: "base_types.yaml"
- IMPORT: "base_links.yaml"

- STRUCT:
    NAME: Vec3
    DATA:
      - double x
      - double y
      - double z

- STRUCT:
    NAME: Temperature_sample
    DATA:
      - double val
      - Vec3 pos
      - String place
 
- INTERFACE:
    NAME: Temperature_i
    FUNCTION:
      - Temperature_sample get()

- INTERFACE:
    NAME: Temperature_report_i
    FUNCTION:
      -  void notify (Temperature_sample ts)

- COMPONENT:
    NAME: Computer_temperature
    DATA:
      - String path_cpu_sensors
      - String path_gpu_sensors
    PROVIDE:
      - Temperature_i cpu_temp
      - Temperature_i gpu_temp
    REQUIRE:
      - Temperature_report_i report
    DATA:
      - int freq

- COMPONENT:
    NAME: ESP32_temperature
    PROVIDE:
      - Temperature_i room_temp 
    REQUIRE:
      - Temperature_report_i out
    DATA:
      - int freq
      - String room

- COMPONENT:
    NAME: Temperature_Server
    PROVIDE:
      - Temperature_report_i reporter
    FUNCTION:
      - int save ()
      - int display ()
      - void add (Temperature_sample ts)

- COMPONENT:
    NAME: Temperature_Server_csv
    PARENT: Temperature_Server
    DATA:
      - String save_path

- DEPLOYMENT:
    NAME: Udp_Temperature_server

    INSTANCE:
      - Temperature_Server server
    LINK_INSTANCE:
      - Udp_server in    

    CONNECTION:
      - (in)->server.reporter
    

