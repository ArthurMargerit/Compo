########################### CMAKE #################################
- NAME: compile.import
  FOR: ""
  DEFAULT:
    FILE: "MODEL:NAME"
    IMPORTS : "MODEL:IMPORTS"
  TARGET_NAME: "COMPILE.IMPORT"
  FILES:
    - IN: "compile/import.cmake"
      OUT: "compile/{{FILE.replace('.yaml','')}}/import.cmake"

- NAME: compile.lib
  FOR: ""
  DEFAULT:
    FILE: "MODEL:NAME"
    IMPORTS : "MODEL:IMPORTS"
  TARGET_NAME: "COMPILE.LIB"
  FILES:
    - IN: "compile/links.cmake"
      OUT: "compile/{{FILE.replace('.yaml','')}}/links.cmake"

- NAME: compile.var
  FOR: ""
  DEFAULT:
    FILE: "MODEL:NAME"
    IMPORTS : "MODEL:IMPORTS"
  TARGET_NAME: "COMPILE.VAR"
  FILES:
    - IN: "compile/var.cmake"
      OUT: "compile/{{FILE.replace('.yaml','')}}/var.cmake"

- NAME: compile.option
  FOR: ""
  DEFAULT:
    FILE: "MODEL:NAME"
    IMPORTS : "MODEL:IMPORTS"
  TARGET_NAME: "COMPILE.{{FILE.replace('.yaml','')}}.OPTIONS"
  FILES:
    - IN:  "compile/option.cmake"
      OUT: "compile/{{FILE.replace('.yaml','')}}/option.cmake"

- NAME: compile.install
  FOR: ""
  DEFAULT:
    FILE: "MODEL:NAME"
    IMPORTS : "MODEL:IMPORTS"
  TARGET_NAME: "COMPILE.{{FILE.replace('.yaml','')}}.INSTALL"
  FILES:
    - IN:  "compile/install.cmake"
      OUT: "compile/{{FILE.replace('.yaml','')}}/install.cmake"


- NAME: compile.project
  FOR: ""
  DEFAULT:
    FILE: "MODEL:NAME"
    IMPORTS : "MODEL:IMPORTS"
  TARGET_NAME: "COMPILE.{{FILE.replace('.yaml','')}}.MAIN"
  FILES:
    - IN:  "compile/main.cmake"
      OUT: "compile/{{FILE.replace('.yaml','')}}/main.cmake"


# main for expressif
- NAME: compile.project.ESP32
  FOR: ""
  DEFAULT:
    FILE: "MODEL:NAME"
    IMPORTS : "MODEL:IMPORTS"
  TARGET_NAME: "COMPILE.{{FILE.replace('.yaml','')}}.MAIN.ESP32"
  FILES:
    - IN:  "compile/esp32/main.cmake"
      OUT: "compile/{{FILE.replace('.yaml','')}}/main_esp32.cmake"


