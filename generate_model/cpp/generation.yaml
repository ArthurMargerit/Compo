########################### TYPES ######################################
- NAME: Types.Atomic
  TARGET_NAME: "TYPES.{{NAME}}"
  FOR: "TYPES.*"
  IF:
    NOT:
      NATIF: true
  FILES:
    - IN: Data/Type_atomic_define.hpp
      OUT: "inc/Data/Type_{{NAME}}.hpp"
    - IN: Data/Type_atomic_define.cpp
      OUT: "src/Data/Type_{{NAME}}.cpp"
  COMMANDS:
    - "clang-format -i inc/Data/Type_{{NAME}}.hpp src/Data/Type_{{NAME}}.cpp"

- NAME: Types.union.atomic
  TARGET_NAME: "TYPE"
  FOR: "TYPES"
  DEFAULT:
    TYPES: "MODEL:TYPES"
    FILE: "MODEL:FILE"
    STRUCTS: "MODEL:STRUCTS"
    IMPORTS: "MODEL:IMPORTS"
    ERRORS: "MODEL:ERRORS"
  FILES:
    - IN: Data/Type_union_define.hpp
      OUT: "inc/Data/{{FILE.replace('.yaml','')}}.hpp"
    - IN: Data/Type_union_define.cpp
      OUT: "src/Data/{{FILE.replace('.yaml','')}}.cpp"
  COMMANDS:
    - "clang-format -i inc/Data/{{FILE.replace('.yaml','')}}.hpp"

########################### STRUCTS ######################################
- NAME: Structs
  FOR: "STRUCTS.*"
  DEFAULT:
    FILE: "MODEL:FILE"
    STRUCTS: "MODEL:STRUCTS"
    TYPES: "MODEL:TYPES"
  TARGET_NAME: "STRUCTS.{{NAME}}"
  FILES:
    - IN: Data/Struct_template.hpp
      OUT: "inc/Data/Struct_{{NAME}}.hpp"
    - IN: Data/Struct_template.cpp
      OUT: "src/Data/Struct_{{NAME}}.cpp"
    - IN: Data/Struct_fac_template.hpp
      OUT: "inc/Data/Struct_fac_{{NAME}}.hpp"
    - IN: Data/Struct_fac_template.cpp
      OUT: "src/Data/Struct_fac_{{NAME}}.cpp"
  COMMANDS:
    - "clang-format -i  inc/Data/Struct_{{NAME}}.hpp src/Data/Struct_{{NAME}}.cpp"

- NAME: Structs
  FOR: "STRUCTS"
  TARGET_NAME: "STRUCT"
  DEFAULT:
    STRUCTS: "MODEL:STRUCTS"
  FILES:
    - IN: Data/Struct_parent.hpp
      OUT: "inc/Data/Struct.hpp"
    - IN: Data/Struct_fac_parent.hpp
      OUT: "inc/Data/Struct_fac.hpp"
    - IN: Data/Struct_parent.cpp
      OUT: "src/Data/Struct.cpp"
  COMMANDS:
    - "clang-format -i src/Data/Struct.cpp inc/Data/Struct.hpp"


########################### ERRORS ######################################
- NAME: Errors
  FOR: "ERRORS.*"
  DEFAULT:
    FILE: "MODEL:FILE"
    STRUCTS: "MODEL:STRUCTS"
    TYPES: "MODEL:TYPES"
  TARGET_NAME: "STRUCTS.{{NAME}}"
  FILES:
    - IN: Errors/Error_template.hpp
      OUT: "inc/Errors/{{NAME}}.hpp"
    - IN: Errors/Error_template.cpp
      OUT: "src/Errors/{{NAME}}.cpp"
    - IN: Errors/Error_fac_template.hpp
      OUT: "inc/Errors/{{NAME}}_fac.hpp"
    - IN: Errors/Error_fac_template.cpp
      OUT: "src/Errors/{{NAME}}_fac.cpp"
  COMMANDS:
    - "clang-format -i inc/Errors/{{NAME}}.hpp src/Errors/{{NAME}}.cpp"
    - "clang-format -i inc/Errors/{{NAME}}_fac.hpp src/Errors/{{NAME}}_fac.cpp"

- NAME: Errors
  FOR: "ERRORS"
  TARGET_NAME: "ERROR"
  DEFAULT:
    STRUCTS: "MODEL:ERRORS"
  FILES:
    - IN: Errors/Error_parent.hpp
      OUT: "inc/Errors/Error.hpp"
    - IN: Errors/Error_fac_parent.hpp
      OUT: "inc/Errors/Error_fac.hpp"
    - IN: Errors/Error_parent.cpp
      OUT: "src/Errors/Error.cpp"
  COMMANDS:
    - "clang-format -i src/Errors/Error.cpp inc/Errors/Error.hpp"




########################### INTERFACE ###################################    
- NAME: Interface
  FOR: ""
  DEFAULT:
      FILE: "MODEL:FILE"
  TARGET_NAME: "INTERFACE"
  FILES:
    - IN: Interfaces/Interface_parent.hpp
      OUT: "inc/Interfaces/Interface.hpp"
    - IN: Interfaces/Interface_parent.cpp
      OUT: "src/Interfaces/Interface.cpp"
  COMMANDS:
    - "clang-format -i src/Interfaces/Interface.cpp inc/Interfaces/Interface.hpp"

- NAME: Interface_fake
  FOR: ""
  TARGET_NAME: "INTERFACE.FAKE"
  FILES:
    - IN: Interfaces/fake/Interface_fake_parent.hpp
      OUT: "inc/Interfaces/Fake.hpp"
    - IN: Interfaces/fake/Interface_fake_parent.cpp
      OUT: "src/Interfaces/Fake.cpp"
  COMMANDS:
    - "clang-format -i src/Interfaces/Fake.cpp inc/Interfaces/Fake.hpp"

- NAME: Interface_caller
  FOR: ""
  TARGET_NAME: "INTERFACE.CALLER"
  FILES:
    - IN: Interfaces/caller/Interface_caller_parent.hpp
      OUT: "inc/Interfaces/Caller.hpp"
    - IN: Interfaces/caller/Interface_caller_parent.cpp
      OUT: "src/Interfaces/Caller.cpp"
  COMMANDS:
    - "clang-format -i src/Interfaces/Caller.cpp inc/Interfaces/Caller.hpp"


- NAME: Interface_stream
  FOR: ""
  TARGET_NAME: "INTERFACE.STREAM"
  FILES:
    - IN: Interfaces/stream/Return_stream.hpp
      OUT: "inc/Interfaces/Return_stream.hpp"
    - IN: Interfaces/stream/Function_stream.hpp
      OUT: "inc/Interfaces/Function_stream.hpp"

    - IN: Interfaces/stream/Return_stream.cpp
      OUT: "src/Interfaces/Return_stream.cpp"
    - IN: Interfaces/stream/Function_stream.cpp
      OUT: "src/Interfaces/Function_stream.cpp"
  COMMANDS:
    - "clang-format -i inc/Interfaces/Function_stream.hpp inc/Interfaces/Return_stream.hpp"


- NAME: Interfaces
  FOR: "INTERFACES.*"
  TARGET_NAME: "INTERFACES.{{NAME}}"
  DEFAULT:
    FILE: "MODEL:FILE"
    MAIN: "MODEL:."
  FILES:
    - IN: Interfaces/Interface_template.hpp
      OUT: "inc/Interfaces/{{NAME}}/{{NAME}}.hpp"
    - IN: Interfaces/Interface_template.cpp
      OUT: "src/Interfaces/{{NAME}}/{{NAME}}.cpp"
  COMMANDS:
    - "clang-format -i inc/Interfaces/{{NAME}}/{{NAME}}.hpp src/Interfaces/{{NAME}}/{{NAME}}.cpp"

# - NAME: Interfaces_dispatcher
#   FOR: "INTERFACES.*"
#   IF:
#     OPTION.DISPATCH: true
#   TARGET_NAME: "INTERFACES.{{NAME}}.DISPATCHER"
#   DEFAULT:
#     MAIN: "MODEL:."
#   FILES:
#     - IN: Interfaces/Interface_dispatcher_template.hpp
#       OUT: "inc/Interfaces/{{NAME}}/{{NAME}}_dispatcher.hpp"
#     - IN: Interfaces/Interface_dispatcher_template.cpp
#       OUT: "src/Interfaces/{{NAME}}/{{NAME}}_dispatcher.cpp"
#   COMMANDS:
#     - "clang-format -i inc/Interfaces/{{NAME}}/{{NAME}}.hpp src/Interfaces/{{NAME}}/{{NAME}}.cpp"

- NAME: Interface_fake
  FOR: "INTERFACES.*"
  TARGET_NAME: "INTERFACES.{{NAME}}_fake"
  DEFAULT:
    FILE: "MODEL:FILE"
  FILES:
    - IN: Interfaces/fake/Interface_fake_template.hpp
      OUT: "inc/Interfaces/{{NAME}}/{{NAME}}_fake.hpp"
    - IN: Interfaces/fake/Interface_fake_template.cpp
      OUT: "src/Interfaces/{{NAME}}/{{NAME}}_fake.cpp"
  COMMANDS:
    - "clang-format -i src/Interfaces/{{NAME}}/{{NAME}}_fake.cpp inc/Interfaces/{{NAME}}/{{NAME}}_fake.hpp"

- NAME: Interface_call
  FOR: "INTERFACES.*"
  TARGET_NAME: "INTERFACES.{{NAME}}_call"
  DEFAULT:
    FILE: "MODEL:FILE"
  FILES:
    - IN: Interfaces/caller/Interface_caller_template.hpp
      OUT: "inc/Interfaces/{{NAME}}/{{NAME}}_caller.hpp"
    - IN: Interfaces/caller/Interface_caller_template.cpp
      OUT: "src/Interfaces/{{NAME}}/{{NAME}}_caller.cpp"
  COMMANDS:
    - "clang-format -i inc/Interfaces/{{NAME}}/{{NAME}}_caller.hpp \
    src/Interfaces/{{NAME}}/{{NAME}}_caller.cpp"

########################### COMPONENT ###################################
- NAME: Component
  FOR: ""
  TARGET_NAME: "COMPONENT"
  DEFAULT:
    FILE: "MODEL:FILE"
  FILES:
    - IN: Components/Component_parent.hpp
      OUT: "inc/Components/Component.hpp"
    - IN: Components/Component_parent.cpp
      OUT: "src/Components/Component.cpp"
  COMMANDS:
    - "clang-format -i inc/Components/Component.hpp src/Components/Component.cpp"

- NAME: Components
  FOR: "COMPONENTS.*"
  DEFAULT:
    MAIN : "MODEL:."
    FILE : "MODEL:FILE"
  TARGET_NAME: "COMPONENTS.{{NAME}}"
  FILES:
    - IN: Components/Component_template.hpp
      OUT: "inc/Components/{{NAME}}/{{NAME}}.hpp"
    - IN: Components/Component_template.cpp
      OUT: "src/Components/{{NAME}}/{{NAME}}.cpp"
  COMMANDS:
    - "clang-format -i src/Components/{{NAME}}/{{NAME}}.cpp inc/Components/{{NAME}}/{{NAME}}.hpp"

- NAME: Components_provides
  FOR: "COMPONENTS.*(COMPONENT).PROVIDE.*"
  DEFAULT:
    FILE: "MODEL:FILE"
  TARGET_NAME: "COMPONENTS.{{COMPONENT.NAME}}.PROVIDE.{{INTERFACE.NAME}}.{{NAME}}"
  FILES:
    - IN: Components/provide/Interface_component_template.hpp
      OUT: "inc/Components/{{COMPONENT.NAME}}/{{COMPONENT.NAME}}_{{INTERFACE.NAME}}_{{NAME}}.hpp"
    - IN: Components/provide/Interface_component_template.cpp
      OUT: "src/Components/{{COMPONENT.NAME}}/{{COMPONENT.NAME}}_{{INTERFACE.NAME}}_{{NAME}}.cpp"
  COMMANDS:
    - "clang-format -i inc/Components/{{COMPONENT.NAME}}/{{COMPONENT.NAME}}_{{INTERFACE.NAME}}_{{NAME}}.hpp src/Components/{{COMPONENT.NAME}}/{{COMPONENT.NAME}}_{{INTERFACE.NAME}}_{{NAME}}.cpp"

########################### DEPLOIMENT ###################################
- NAME: Deployment
  TARGET_NAME: "DEPLOYMENT"
  FOR: "DEPLOYMENTS"
  DEFAULT:
    FILE: "MODEL:FILE"
  FILES:
    - IN: Deployments/Deployment_parent.hpp
      OUT: "inc/Deployments/Deployment.hpp"
    - IN: Deployments/Deployment_parent.cpp
      OUT: "src/Deployments/Deployment.cpp"
  COMMANDS:
    - "clang-format -i src/Deployments/Deployment.cpp inc/Deployments/Deployment.hpp"

- NAME: Deployments
  FOR: "DEPLOYMENTS.*"
  TARGET_NAME: "DEPLOYMENTS.{{NAME}}"
  DEFAULT:
    FILE : "MODEL:FILE"
  FILES:
    - IN: Deployments/Deployment_template.hpp
      OUT: "inc/Deployments/{{NAME}}/{{NAME}}.hpp"
    - IN: Deployments/Deployment_template.cpp
      OUT: "src/Deployments/{{NAME}}/{{NAME}}.cpp"
  COMMANDS:
    - "clang-format -i inc/Deployments/{{NAME}}/{{NAME}}.hpp src/Deployments/{{NAME}}/{{NAME}}.cpp"

########################### LINK ##################################
- NAME: Link
  FOR: "LINKS"
  TARGET_NAME: "LINK"
  DEFAULT:
    FILE: "MODEL:FILE"
  FILES: 
    - IN: Links/Link_parent.hpp
      OUT: "inc/Links/Link.hpp"
    - IN: Links/Link_parent.cpp
      OUT: "src/Links/Link.cpp"
  COMMANDS:
    - "clang-format -i inc/Links/Link.hpp src/Links/Link.cpp"

- NAME: Links
  FOR: "LINKS.*"
  TARGET_NAME: "LINKS.{{NAME}}"
  DEFAULT:
    FILE: "MODEL:FILE"
  FILES:
    - IN: Links/Link_template.hpp
      OUT: "inc/Links/{{NAME}}/{{NAME}}.hpp"
    - IN: Links/Link_template.cpp
      OUT: "src/Links/{{NAME}}/{{NAME}}.cpp"
  COMMANDS:
    - "clang-format -i inc/Links/{{NAME}}/{{NAME}}.hpp src/Links/{{NAME}}/{{NAME}}.cpp"

########################### IMPORT ################################

- NAME: Import              
  FOR: "IMPORTS"
  TARGET_NAME: "IMPORTS"
  DEFAULT:
    MAIN : "MODEL:."
  FILES:
    - IN: "import.txt"
      OUT: "src/import.txt"

########################### CMAKE #################################

# - NAME: cmake              
#   FOR: ""
#   TARGET_NAME: "CMAKE"
#   FILES: []
#   COMMANDS:
#     - ln -sf ../Compo/CMakeLists.txt .

- NAME: cmake.find              
  FOR: ""
  TARGET_NAME: "CMAKE.FIND"
  FILES:
    - IN: "cmake/Config.cmake"
      OUT: "out/{{options.project.name}}Config.cmake"

- NAME: cmake.import
  FOR: ""
  TARGET_NAME: "CMAKE.IMPORT"
  FILES:
    - IN: "cmake/import.cmake"
      OUT: "out/import.cmake"
